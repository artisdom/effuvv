#!/usr/bin/perl

print "Password: ";
system("/usr/bin/stty", "-echo");
$password = <STDIN>;
chomp($password);
system("/usr/bin/stty", "echo");
print "\n";

print "Again: ";
system("/usr/bin/stty", "-echo");
$again = <STDIN>;
chomp($again);
system("/usr/bin/stty", "echo");
print "\n";

if ($password ne $again) {
  print "error dont match\n";
  exit 1;
}


$salt = join "", ('.', '/', 0..9, 'A'..'Z', 'a'..'z')[map {rand 64} (1..16)];

print "\n".crypt($password,"\$6\$".$salt."\$") . "\n";
